% setup
hg init -q
hg add -q normal1 sub/normal2 sub/normal3.txt sub/normal4.txt
hg commit -m 'add normal files'

% add bfiles
hg add -q --bf big1 sub/big2 sub/big3.txt
hg commit -m 'added bfiles'

% forget sub/*.txt
hg forget 'glob:sub/*.txt'
hg status
hg commit -m 'forget bfiles'

% test update
hg up -r 1
hg up

% forget single normal files
hg forget normal1
hg forget sub/normal2
hg status

% forget single bfiles
hg forget big1
hg forget sub/big2
hg status
hg commit -m 'all gone'
hg status

% setup
hg init
hg add n1 n2.txt ../n3.foo
hg add --bf b1 b2.txt ../b3.foo
hg status
hg commit -m 'add files'

% test forget and add
hg forget 'glob:../*.foo'
hg status
hg add ../n3.foo
hg add --bf ../b3.foo
hg status
hg commit -m 'did i change things?'
hg forget ../n3.foo ../b3.foo
hg status
hg commit -m 'forget files'
hg status
hg forget 'glob:*.txt'
hg status
hg commit -m 'forget files'
hg status
